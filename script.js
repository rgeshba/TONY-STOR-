// ?????? ???????? (???? ?????? ?? ???? ?????? ?????)
const products = [
  {
    id: 1,
    name: "????? ??? ??????",
    price: 350,
    image: "https://images.unsplash.com/photo-1518444743700-7b6652af317a?auto=format&fit=crop&w=400&q=80",
  },
  {
    id: 2,
    name: "???? ??? ????",
    price: 4500,
    image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&w=400&q=80",
  },
  {
    id: 3,
    name: "???? ?? ??????",
    price: 1200,
    image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=400&q=80",
  },
  {
    id: 4,
    name: "?????? ????????",
    price: 7500,
    image: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",
  },
];

// ??? ?????? ????? ???? ????????
const productList = document.getElementById("product-list");

// ????? ???? ???????? ?? ??????
function displayProducts() {
  productList.innerHTML = ""; // ??? ??????? ??????

  products.forEach((product) => {
    const productCard = document.createElement("div");
    productCard.classList.add("product-card");

    productCard.innerHTML = `
      <img src="${product.image}" alt="${product.name}" />
      <h4>${product.name}</h4>
      <p class="price">${product.price} ????</p>
      <button onclick="addToCart(${product.id})">??? ??? ?????</button>
    `;

    productList.appendChild(productCard);
  });
}

// ?????? ????? (????? ???? ?? ??????? ???)
let cart = [];

// ????? ???? ?????
function addToCart(id) {
  const product = products.find((p) => p.id === id);
  if (!product) return;

  const cartItem = cart.find((item) => item.id === id);

  if (cartItem) {
    cartItem.quantity += 1;
  } else {
    cart.push({ ...product, quantity: 1 });
  }

  alert(`${product.name} ?? ?????? ?????`);
  console.log(cart);
}

// ????? ??? ???????? ??? ????? ??????
window.onload = displayProducts;
